<!--
  @description       : 
  @author            : dglsmrnh
  @group             : 
  @last modified on  : 03-13-2024
  @last modified by  : dglsmrnh
-->
<template>
  <lightning-spinner if:true={isShowLoading} alternative-text="Loading" size="medium"></lightning-spinner>
  <lightning-modal-header label={book.volumeInfo.title}></lightning-modal-header>
  <lightning-modal-body>
    <lightning-layout multiple-rows>
      <lightning-layout-item class="content__field" size="12">
        <lightning-textarea
            value={excerpt}
            label="Trecho do livro"
            min-length="90"
            onchange={handleTextAreaChange}
            class="textAreaBody"
        >
        </lightning-textarea>
      </lightning-layout-item>
      <lightning-layout-item class="slds-var-m-top_large slds-var-m-bottom_large" size="12">
				<lightning-button 
					icon-name="utility:search"  
					size="medium" 
					alternative-text="Consultar score"
					label="Consultar score" 
					onclick={handleSearch}
          variant="brand"></lightning-button>
			</lightning-layout-item>
      <template if:true={score}>
        <lightning-layout-item class="content__field" size="12" medium-device-size="3" large-device-size="3" padding="horizontal-medium">
          <div class="container__field-readOnly">
            ARI
            <p class="text__titleBold">
              <lightning-formatted-number value={score.features.ari} maximum-fraction-digits="2"></lightning-formatted-number>
            </p>
          </div>
        </lightning-layout-item>
        <lightning-layout-item class="content__field" size="12" medium-device-size="3" large-device-size="3">
          <div class="container__field-readOnly">
            Índice de Flesch
            <p class="text__titleBold">
              <lightning-formatted-number value={score.features.flesch} maximum-fraction-digits="2"></lightning-formatted-number>
            </p>
          </div>
        </lightning-layout-item>
        <lightning-layout-item class="content__field" size="12" medium-device-size="3" large-device-size="3">
          <div class="container__field-readOnly">
            Índice Coleman-Liau
            <p class="text__titleBold">
              <lightning-formatted-number value={score.features.colemanLiau} maximum-fraction-digits="2"></lightning-formatted-number>
            </p>
          </div>
        </lightning-layout-item>
        <lightning-layout-item class="content__field" size="12" medium-device-size="3" large-device-size="3">
          <div class="container__field-readOnly">
            Índice Gulpease
            <p class="text__titleBold">
              <lightning-formatted-number value={score.features.gulpease} maximum-fraction-digits="2"></lightning-formatted-number>
            </p>
          </div>
        </lightning-layout-item>
      </template>
    </lightning-layout>
  </lightning-modal-body>
  <lightning-modal-footer>
    <template if:true={score}>
      <lightning-button label="Incluir livro" onclick={handleOkay} variant="success"></lightning-button>
    </template>
  </lightning-modal-footer>
</template>