<!-- sldsValidatorIgnore -->
<template>
	<div class={product.productClass}>
		<div class="slds-grid">
			<header class="slds-media slds-media_center slds-var-p-horizontal_xx-small slds-has-flexi-truncate">
				<div class="slds-media__figure">
					<lightning-icon icon-name="standard:product" size="medium"></lightning-icon>
				</div>

				<div class="slds-media__body slds-truncate container__product-name" title={product.productName}>
					{product.productName}
				</div>

				<div if:false={disabled} class="slds-no-flex">
					<button
						if:false={product.isSelected}
						class="slds-button button-add"
						onclick={onClickAddProduct}
					>
						<svg class="slds-icon slds-icon-text-default slds-icon_x-small icon-add" aria-hidden="true">
							<use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#add"></use>
						</svg>
					</button>

					<button if:true={product.isSelected} class="slds-button button-remove" onclick={onClickRemoveProduct}>
						<lightning-icon icon-name="utility:delete" variant="error" size="x-small">
						</lightning-icon>
					</button>
				</div>
			</header>
		</div>

		<div>
			<lightning-layout multiple-rows>
				<lightning-layout-item class="content__field" size="6">
					<lightning-input
						name="unitPrice"
						label={labels.unitPriceLabel}
						value={product.unitPrice}
						type="number"
						formatter="currency"
						step="0.01"
						max-length="16"
						min="0"
						max={product.listPrice}
						field-level-help="Must be less than or equal to list price"
						onchange={onChangeProductData}
						disabled={disabled}>
					</lightning-input>
				</lightning-layout-item>

				<lightning-layout-item class="content__field" size="6">
					<lightning-input
						name="discount"
						label={labels.discountLabel}
						value={product.discount}
						type="number"
						formatter="percent-fixed"
						step="0.01"
						max-length="3"
						min="0"
						max="100"
						onchange={onChangeProductData}
						disabled={disabled}>
					</lightning-input>
				</lightning-layout-item>

				<lightning-layout-item class="content__field" size="6">
					<c-quantity-component
						quantity-label={labels.quantityLabel}
						quantity={product.quantity}
						is-disabled-quantity={disabled}
						onchangequantity={onChangeQuantity}
					>
					</c-quantity-component>
				</lightning-layout-item>

				<lightning-layout-item class="content__field" size="6">
					<div class="container__field-readOnly">
						{labels.totalPriceLabel}
						<p class="text__totalPrice">
							<lightning-formatted-number
								value={product.totalPrice}
								format-style="currency"
								maximum-fraction-digits="2">
							</lightning-formatted-number>
						</p>
					</div>
				</lightning-layout-item>

				<lightning-layout-item class="content__field" size="6">
					<div class="container__field-readOnly">
						{labels.listPriceLabel}
						<p>
							<lightning-formatted-number
								value={product.listPrice}
								format-style="currency"
								maximum-fraction-digits="2">
							</lightning-formatted-number>
						</p>
					</div>
				</lightning-layout-item>

				<lightning-layout-item class="content__field" size="6">
					<div class="container__field-readOnly">
						{labels.totalListPriceLabel}
						<p>
							<lightning-formatted-number
								value={product.totalListPrice}
								format-style="currency"
								maximum-fraction-digits="2">
							</lightning-formatted-number>
						</p>
					</div>
				</lightning-layout-item>
			</lightning-layout>
		</div>
	</div>
</template>
